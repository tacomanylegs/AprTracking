╔═══════════════════════════════════════════════════════════════════════╗
║           TakaraLend USDT & USDC Supply APR 監控器                 ║
╚═══════════════════════════════════════════════════════════════════════╝

✅ 項目完成：TakaraLend 雙市場監控爬蟲

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 監控市場

✓ USDT - Supply APR: 15.57%
✓ USDC - Supply APR: 12.88%

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📁 文件結構

dual-market-monitor.js    - 主程式（雙市場監控器）✅
package.json              - 依賴配置
usdt-apr-history.json     - USDT 歷史數據
usdc-apr-history.json     - USDC 歷史數據

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🚀 快速開始

【單次運行】- 獲取最新 APR 數據
  node dual-market-monitor.js --once

  輸出示例:
  ✅ USDT: 15.57%
  ✅ USDC: 12.88%

【持續監控】- 每 5 分鐘自動更新（推薦）
  node dual-market-monitor.js

  特性:
  - 每 5 分鐘自動爬取一次
  - 按 Ctrl+C 停止
  - 數據自動保存
  - 每 30 分鐘顯示統計

【查看統計】- 顯示歷史數據統計
  node dual-market-monitor.js --stats

  顯示內容:
  - 當前 Supply APR
  - 平均值、最小值、最大值
  - 數據點總數

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📚 工作原理

1. 使用 Puppeteer 啟動無頭瀏覽器
2. 並行訪問 USDT 和 USDC 市場頁面
3. 等待頁面完全加載
4. 使用正則表達式提取 Supply APR 數據
5. 保存到 JSON 文件

提取的數據結構:
{
  "timestamp": "2025-11-16T17:50:45.123Z",
  "supplyAPR": "15.57",
  "success": true
}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 數據文件

usdt-apr-history.json
  ├─ 存儲 USDT 的歷史 APR 數據
  ├─ JSON 格式，最多 1000 個數據點
  └─ 自動更新

usdc-apr-history.json
  ├─ 存儲 USDC 的歷史 APR 數據
  ├─ JSON 格式，最多 1000 個數據點
  └─ 自動更新

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚙️ 系統要求

✓ Node.js v16+
✓ Puppeteer (已安裝)
✓ 互聯網連接

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 使用建議

開發環境:
  node dual-market-monitor.js --once

生產環境（使用 PM2）:
  pm2 start dual-market-monitor.js --name "takaralend-monitor"
  pm2 logs takaralend-monitor

定時查看統計:
  node dual-market-monitor.js --stats

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔧 可自定義配置

在 dual-market-monitor.js 中修改:

const CONFIG = {
  markets: ['USDT', 'USDC'],              // 監控市場
  updateInterval: 5 * 60 * 1000,          // 更新間隔 (毫秒)
  timeout: 30000                          // 頁面加載超時
};

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❓ 常見問題

Q: 為什麼爬蟲需要 5 秒時間？
A: 時間消耗:
   - 啟動 Chromium 瀏覽器: ~2 秒
   - 加載頁面: ~1-2 秒
   - 執行 JavaScript: ~1 秒

Q: 可以加快更新速度嗎？
A: 可以在 CONFIG 中修改:
   updateInterval: 2 * 60 * 1000  // 改為 2 分鐘

Q: 數據保留多久？
A: 每個市場最多 1000 個數據點
   以 5 分鐘間隔計算，約 3.5 天的數據

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✨ 特點

✅ 簡潔 - 只顯示 Supply APR 信息
✅ 高效 - 並行爬取兩個市場
✅ 可靠 - 數據持久化存儲
✅ 易用 - 三種運行模式
✅ 統計 - 完整的統計功能

═══════════════════════════════════════════════════════════════════════

